const foodItem= [
    {
    id: 1,
    name: 'Cheese Burger',
    category : 'Burger',
    rating : 4.3,
    price: 13,
    img: 'images/Burger/Cheeseburger.jpg',
    quantity: 1
},
{
    id: 2,
    name: 'Elk Burger',
    category : 'Burger',
    rating : 4.3,
    price: 15,
    img: 'images/Burger/Elkburger.jpg',
    quantity: 1
},
{
    id: 3,
    name: 'Ham Burger',
    category : 'Burger',
    rating : 4.3,
    price: 18,
    img: 'images/Burger/Hamburger.jpg',
    quantity: 1
},
{
    id: 4,
    name: 'Porto bello mushroom Burger',
    category : 'Burger',
    rating : 4.3,
    price: 15,
    img: 'images/Burger/Portobellomushroomburger.jpg',
    quantity: 1
},
{
    id: 5,
    name: 'Turkey Burger',
    category : 'Burger',
    rating : 4.3,
    price: 10,
    img: 'images/Burger/Turkeyburger.jpg',
    quantity: 1
},
{
    id: 6,
    name: 'Veggie Burger',
    category : 'Burger',
    rating : 4.3,
    price: 12,
    img: 'images/Burger/BreakfastBurrito.jpg',
    quantity: 1
},
{
    id: 7,
    name: 'Break Fast Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 13,
    img: 'images/Burrito/Burrito.jpg',
    quantity: 1
},
{
    id: 8,
    name: 'Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 20,
    img: 'images/Burrito/CaliforniaBurrito.jpg',
    quantity: 1
},
{
    id: 9,
    name: 'California Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 15,
    img: 'images/Burrito/CarneAsadaBurrito.jpg',
    quantity: 1
},
{
    id: 10,
    name: 'Carne Asada Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 11,
    img: 'images/Burrito/MildBreakfastBurrito.jpg',
    quantity: 1
},
{
    id: 11,
    name: 'Mild Break fast Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 10,
    img: 'images/Burrito/BreakfastBurrito.jpg',
    quantity: 1
},
{
    id: 12,
    name: 'Mission Burrito',
    category : 'Burrito',
    rating : 4.3,
    price: 14,
    img: 'images/Burrito/MissionBurrito.jpg',
    quantity: 1
},
{
    id: 13,
    name: 'Baked Alaska Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 12,
    img: 'images/Desserts/BakedAlaskaCake.jpg',
    quantity: 1
},
{
    id: 14,
    name: 'Blackout Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 17,
    img: 'images/Desserts/BlackoutCake.jpg',
    quantity: 1
},
{
    id: 15,
    name: 'Murgh Musallam',
    category : 'Desserts',
    rating : 4.3,
    price: 20,
    img: 'images/Desserts/BakedAlaskaCake.jpg',
    quantity: 1
},
{
    id: 16,
    name: 'Caramel Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 15,
    img: 'images/Desserts/CaramelCake.jpg',
    quantity: 1

},
{
    id: 17,
    name: 'Ice box Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 10,
    img: 'images/Desserts/IceboxCake.jpg',
    quantity: 1
},
{
    id: 18,
    name: 'Lady Baltimore Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 15,
    img: 'images/Desserts/LadyBaltimoreCake.jpg',
    quantity: 1

},
{
    id: 19,
    name: 'Lane Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 12,
    img: 'images/Desserts/LaneCake.jpg',
    quantity: 1

},
{
    id: 20,
    name: 'Meyer Lemon Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 8,
    img: 'images/Desserts/StackCake.jpg',
    quantity: 1
},
{
    id: 21,
    name: 'Stack Cake',
    category : 'Desserts',
    rating : 4.3,
    price: 7,
    img: 'images/Desserts/TexasSheetCake.jpg',
    quantity: 1
},
{
    id: 22,
    name: 'Boston Cream Doughnut',
    category : 'Donuts',
    rating : 4.3,
    price: 5,
    img: 'images/Donuts/BostonCreamDoughnut.jpg',
    quantity: 1
},
{
    id: 23,
    name: 'Cake Donuts',
    category : 'Donuts',
    rating : 4.3,
    price: 8,
    img: 'images/Donuts/CakeDonuts.jpg',
    quantity: 1
},
{
    id: 24,
    name: 'Cream Filled Doughnut',
    category : 'Donuts',
    rating : 4.3,
    price: 7,
    img: 'images/Donuts/CreamFilledDoughnut.jpg',
    quantity: 1
},
{
    id: 25,
    name: 'Donuts Holes',
    category : 'Donuts',
    rating : 4.3,
    price: 5,
    img: 'images/Donuts/DonutsHoles.jpg',
    quantity: 1
},
{
    id: 26,
    name: 'Glazed Doughnuts',
    category : 'Donuts',
    rating : 4.3,
    price: 7,
    img: 'images/Donuts/GlazedDoughnuts.jpg',
    quantity: 1
},
{
    id: 27,
    name: 'Jelly Donuts',
    category : 'Donuts',
    rating : 4.3,
    price: 10,
    img: 'images/Donuts/JellyDonuts.jpg',
    quantity: 1
},
{
    id: 28,
    name: 'Yeast Donuts',
    category : 'Donuts',
    rating : 4.3,
    price: 4,
    img: 'images/Donuts/YeastDonuts.jpg',
    quantity: 1
},
{
    id: 29,
    name: 'Bacon',
    category : 'Pizza',
    rating : 4.3,
    price: 4,
    img: 'images/Pizza/bacon.jpg',
    quantity: 1
},
{
    id: 30,
    name: 'Chillipaper',
    category : 'Pizza',
    rating : 4.3,
    price: 8,
    img: 'images/Pizza/chillipaper.jpg',
    quantity: 1
},
{
    id: 31,
    name: 'Mozzarella',
    category : 'Pizza',
    rating : 4.3,
    price: 7,
    img: 'images/Pizza/mozzarella.jpg',
    quantity: 1
},
{
    id: 32,
    name: 'Marinara',
    category : 'Pizza',
    rating : 4.3,
    price: 5,
    img: 'images/Pizza/marinara.jpg',
    quantity: 1
},
{
    id: 33,
    name: 'Mexican',
    category : 'Pizza',
    rating : 4.3,
    price: 16,
    img: 'images/Pizza/mexican.jpg',
    quantity: 1
},
{
    id: 34,
    name: 'Mozzarella',
    category : 'Pizza',
    rating : 4.3,
    price: 14,
    img: 'images/Pizza/mozzarella.jpg',
    quantity: 1
},
{
    id: 35,
    name: 'Mushroom',
    category : 'Pizza',
    rating : 4.3,
    price: 10,
    img: 'images/Pizza/mushroom.jpg',
    quantity: 1
},
{
    id: 36,
    name: 'Shirmp',
    category : 'Pizza',
    rating : 4.3,
    price: 8,
    img: 'images/Pizza/shirmp.jpg',
    quantity: 1
},
{
    id: 37,
    name: 'Vegetrain',
    category : 'Pizza',
    rating : 4.3,
    price: 18,
    img: 'images/Pizza/vegetrain.jpg',
    quantity: 1
},
{
    id: 38,
    name: 'Caesar Salad',
    category : 'Salad',
    rating : 4.3,
    price: 20,
    img: 'images/Salad/CaesarSalad.jpg',
    quantity: 1
},
{
    id: 39,
    name: 'Chef Salad',
    category : 'Salad',
    rating : 4.3,
    price: 12,
    img: 'images/Salad/ChefSalad.jpg',
    quantity: 1
},
{
    id: 40,
    name: 'Chinese Chicken Salad',
    category : 'Salad',
    rating : 4.3,
    price: 10,
    img: 'images/Salad/ChineseChickenSalad.jpg',
    quantity: 1
},
{
    id: 41,
    name: 'Cobba Salad',
    category : 'Salad',
    rating : 4.3,
    price: 15,
    img: 'images/Salad/CobbaSalad.jpg',
    quantity: 1
},
{
    id: 42,
    name: 'Coleslaw',
    category : 'Salad',
    rating : 4.3,
    price: 40,
    img: 'images/Salad/Coleslaw.jpg',
    quantity: 1
},
{
    id: 43,
    name: 'Frog Eye Salad',
    category : 'Salad',
    rating : 4.3,
    price: 25,
    img: 'images/Salad/FrogEyeSalad.jpg',
    quantity: 1
},
{
    id: 44,
    name: 'Macaroni Salad',
    category : 'Salad',
    rating : 4.7,
    price: 44,
    img: 'images/Salad/MacaroniSalad.jpg',
    quantity: 1
},
{
    id: 45,
    name: 'Chicken Sandwich',
    category : 'Sandwich',
    rating : 4.6,
    price: 38,
    img: 'images/Sandwich/ChickenSandwich.jpg',
    quantity: 1
},
{
    id: 46,
    name: 'Egg Sandwich',
    category : 'Sandwich',
    rating : 4.5,
    price: 39,
    img: 'images/Sandwich/EggSandwich.jpg',
    quantity: 1
},
{
    id: 47,
    name: 'Grilled Chicken Sandwich',
    category : 'Sandwich',
    rating : 4.5,
    price: 42,
    img: 'images/Sandwich/GrilledChickenSandwich.jpg',
    quantity: 1
},
{
    id: 48,
    name: 'Ice Cream Sandwich',
    category : 'Sandwich',
    rating : 4.6,
    price: 44,
    img: 'images/Sandwich/IceCreamSandwich.jpg',
    quantity: 1
},
{
    id: 49,
    name: 'Meatball Sandwich',
    category : 'Sandwich',
    rating : 4.3,
    price: 41,
    img: 'images/Sandwich/MeatballSandwich.jpg',
    quantity: 1
},
{
    id: 50,
    name: 'Nutella Sandwich',
    category : 'Sandwich',
    rating : 4.4,
    price: 32,
    img: 'images/Sandwich/NutellaSandwich.jpg',
    quantity: 1
},
{
    id: 51,
    name: 'Roast Beef Sandwich',
    category : 'Sandwich',
    rating : 4.5,
    price: 37,
    img: 'images/Sandwich/RoastBeefSandwich.jpg',
    quantity: 1
},
{
    id: 44,
    name: 'Salmon Sandwich',
    category : 'Sandwich',
    rating : 4.3,
    price: 34,
    img: 'images/Sandwich/SalmonSandwich.jpg',
    quantity: 1
},
{
    id: 45,
    name: 'Seafood Sandwich',
    category : 'Sandwich',
    rating : 4.3,
    price: 34,
    img: 'images/Sandwich/SeafoodSandwich.jpg',
    quantity: 1
},
]

// Logic for items to display on the page
function displayItems(){
    var Burger= document.getElementById('Burger');
    var Burrito=  document.getElementById('Burrito');;
    var Desserts=  document.getElementById('Desserts');
    var Donuts=  document.getElementById('Donuts');
    var Pizza=  document.getElementById('Pizza');
    var Salad=  document.getElementById('Salad');
    var Sandwich = document.getElementById("Sandwich")
    catList = [Burger,Burrito,Desserts,Donuts,Pizza,Salad,Sandwich]
    
    const burgerData= foodItem.filter((item)=>item.category=='Burger');
    const burritoData= foodItem.filter((item)=>item.category=='Burrito');
    const dessertsData= foodItem.filter((item)=>item.category=='Desserts');
    const donutsData= foodItem.filter((item)=>item.category=='Donuts');
    const pizzaData= foodItem.filter((item)=>item.category=='Pizza');
    const saladData= foodItem.filter((item)=>item.category=='Salad');
    const sandwichData = foodItem.filter((item)=>item.category=="Sandwich");

    [burgerData,burritoData,dessertsData,donutsData,saladData,pizzaData,sandwichData].forEach((foodCategory,idx) => {
        foodCategory.map(item=>{
        
            var itemCard= document.createElement('div');
            itemCard.setAttribute('id','item-card')
    
            var cardTop= document.createElement('div');
            cardTop.setAttribute('id','card-top');
    
            var star= document.createElement('i');
            star.setAttribute('class','fa fa-star');
            star.setAttribute('id','rating');
            star.innerText= ' ' + item.rating;
    
            var heart= document.createElement('i');
            heart.setAttribute('class','fa fa-heart-o add-to-cart');
            heart.setAttribute('id',item.id)
    
            cardTop.appendChild(star);
            cardTop.appendChild(heart);
    
    
            var img= document.createElement('img');
            img.src=item.img;
    
            var itemName= document.createElement('p');
            itemName.setAttribute('id','item-name');
            itemName.innerText= item.name; 
            var itemPrice= document.createElement('p');
            itemPrice.setAttribute('id','item-price');
            itemPrice.innerText= 'Price : $ ' + item.price;
    
            itemCard.appendChild(cardTop);
            itemCard.appendChild(img);
            itemCard.appendChild(itemName);
            itemCard.appendChild(itemPrice);
           
           // alert(itemPrice);            
            catList[idx].appendChild(itemCard);
            
        })
    });
}
displayItems();

let QuickNavigate= [...new Map(foodItem.map(item=> [item['category'],item])).values()];
console.log(QuickNavigate);
// Logic to create navigate List for each category
function selectTaste(){
    var categoryList= document.getElementById('category-list');
    //QuickNavigate = QuickNavigate.map(item=>item.category.toLowerCase());
    QuickNavigate.map(item=>{
        console.log(item)
        var listCard= document.createElement('div');
        listCard.setAttribute('class','list-card');
    
        var listImg= document.createElement('img');
        listImg.src= item.img;
    
        var listName= document.createElement('a');
        listName.setAttribute('class','list-name');
        listName.innerText= item.category;
        console.log(item.category);
        listName.setAttribute('href','#'+item.category)
    
        listCard.appendChild(listImg);
        listCard.appendChild(listName);

        var cloneListCard= listCard.cloneNode(true);
        categoryList.appendChild(listCard);
        //document.querySelector('.category-header').appendChild(cloneListCard)
    })
}
selectTaste();


document.getElementById('address').addEventListener("click",addAddress)

function addAddress(){
    var address= prompt('Enter your address','');
    if(address){
        document.getElementById('address').innerText= ' ' + address;
    }
    else{
        alert("Address not added")
    }
}

document.querySelectorAll('.add-to-cart').forEach(item=>{
    item.addEventListener('click',addToCart)
})

var cartData= [];
function addToCart(){
    
    var itemToAdd= this.parentNode.nextSibling.nextSibling.innerText;
    console.log("this.parentNode.nextSibling.nextSibling.innerText is: "+itemToAdd);
    var itemObj= foodItem.find(element=>element.name==itemToAdd);

    var index= cartData.indexOf(itemObj);
    if(index=== -1){
        document.getElementById(itemObj.id).classList.add('toggle-heart');
        cartData= [...cartData,itemObj];
    }
    else if(index > -1){
        alert("Added to cart!");
    }
    
    document.getElementById('cart-plus').innerText=
    ' ' + cartData.length + ' Items';
    cartItems();
}

function cartItems(){
    var tableBody=  document.getElementById('table-body');
    tableBody.innerHTML= '';
    var totalPrice = 0;
    cartData.map(item=> {
        var tableRow= document.createElement('tr');
        
        var rowData1= document.createElement('td');
        var img= document.createElement('img');
        img.src= item.img;
        rowData1.appendChild(img);
    
        var rowData2= document.createElement('td');
        rowData2.innerText= item.name;
        

          var rowData3= document.createElement('td');
          rowData3.innerText=item.price;
          totalPrice +=item.price;
    
        var rowData4= document.createElement('td');
        rowData4.innerText= item.price;
    
        tableRow.appendChild(rowData1);
        tableRow.appendChild(rowData2);
        tableRow.appendChild(rowData3);    
        tableBody.appendChild(tableRow);
    })
    var rowFooter = document.createElement("td");
    rowFooter.setAttribute("colspan","3");
    rowFooter.setAttribute("align","right");
    rowFooter.innerHTML="&#36;"+totalPrice;
    tableBody.appendChild(rowFooter);
 }
 //document.getElementById('list-card').addEventListener('click',cartToggle);
document.getElementById('cart-plus').addEventListener('click',cartToggle);
//document.getElementById('cart-plus').addEventListener('click',cartToggle);

var flag= false;
function cartToggle(){
    console.log(cartData)
    if(cartData.length > 0){
        document.getElementById('food-items').classList.toggle('food-items');
        document.getElementById('category-list').classList.toggle('food-items');
        document.getElementById('category-header').classList.toggle('toggle-category');
        document.getElementById('cart-plus').classList.toggle('m-cart-toggle')
        document.getElementById('cart-page').classList.toggle('cart-toggle');
        //document.getElementById('checkout').classList.toggle('cart-toggle');
        flag= true;
        console.log(flag)
    }
    else{
        alert("Currently no item in cart!");
    }
}

